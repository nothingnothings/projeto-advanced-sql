









certo.... AGORA, SE QUEREMOS 

AGGREGATE DATA,


NÓS GERALMENTE FAZEMOS GROUP DA DATA 




SEMPRE BY ALGUMA CATEGORIA ESPECÍFICA...










POR EXEMPLO,





TEMOS ESTE CÓDIGO:










SELECT 
SUM(amount)
FROM payment;










COM ESSE CÓDIGO, NÓS FAZEMOS AGGREGATE 

DO TOTAL AMOUNT,


DA TABLE INTEIRA,

E NAO AGRUPAMOS POR NADA... (sem group by)...
















--> MAS TALVEZ QUEIRAMOS 


VER "QUANTO CADA CUSTOMER GASTOU"....










--> OU SEJA,

QUEREMOS AGRUPAR POR CADA "CUSTOMER_ID",

PARA VER QUANTO CADA CUSTOMER GASTOU...









--> DEVEMOS COLOCAR A COLUMN DE CUSTOMER_ID 


NO SELECT,
E AÍ 


COLOCAR O CUSTOMER_ID COMO CRITEŔIO DO GROUP BY..






TIPO ASSIM:












SELECT 
SUM(AMOUNT) AS TOTAL_SPENT_BY_CUSTOMER,
CUSTOMER_ID
FROM payment
GROUP BY CUSTOMER_ID
ORDER BY TOTAL_SPENT_BY_CUSTOMER DESC;










CERTO....


funcionou...




------------------------------














AGORA O PROFESSOR DESCREVE BEM A CLAUSE DE 

GROUP BY...








ESSA CLAUSE É USADA PARA AGRUPAR NOSSAS 

AGGREGATIONS POR __ COLUMN___...



--> PARA CADA DIFERENTE VALUE 

NESSA COLUMN,

AGRUPAMOS


TODOS OS VALUES RELACIONADOS...












-->  SINTAXE:











SELECT 
customer_id,
SUM(amount)
FROM payment
GROUP BY CUSTOMER_ID;








--> GERALMENTE 

O 


GROUP BY VEM LOGO DEPOIS 

DA CLAUSE DE "FROM",


MAS É CLARO QUE 


PODEMOS FILTRAR NOSSA DATA ___ __ ANTES__ 

DE AGRUPAR...






tipo assim:







SELECT 
customer_id,
SUM(amount)
FROM payment 
WHERE customer_id > 3
GROUP BY customer_id;

